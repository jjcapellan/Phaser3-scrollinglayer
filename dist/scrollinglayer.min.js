"use strict";(()=>{var s=class{constructor(i,t,e,h,r){this.scene=i,this.position=t,this.speed=e,this.texture=h,this.frame=r,this.overlap=1,this._isH=1,this._isV=0,this._axis="x",this.origin=0,this.width=this.scene.textures.getFrame(this.texture,this.frame).width,this.height=this.scene.textures.getFrame(this.texture,this.frame).height,this.blitter=this.scene.add.blitter(this._isV*this.position+0,this._isH*this.position+0,this.texture,this.frame),this._img1=this.blitter.create(0,0),this._img2=this.blitter.create((this.width-this.overlap)*this._isH+0,(this.height-this.overlap)*this._isV+0)}_getDistance(i,t){return t*i/1e3}_resetPosition(){this.blitter.setPosition(this._isV*this.position+0,this._isH*this.position+0),this._img1.setPosition(0,0),this._img2.setPosition((this.width-this.overlap)*this._isH+0,(this.height-this.overlap)*this._isV+0)}setAlpha(i){return i=Math.max(0,i),this.blitter.setAlpha(i),this}setVertical(){return this._isV=1,this._isH=0,this._axis="v",this._resetPosition(),this}setHorizontal(){return this._isV=0,this._isH=1,this._axis="x",this._resetPosition(),this}setOrigin(i){return this.origin=Phaser.Math.Clamp(i,0,1),this.setPosition(this.position),this}setOverlap(i){return this.overlap=Math.max(0,i),this}setPosition(i){return this.position=i,this._isH?(this.blitter.y=i-this.origin*this.height,this):(this.blitter.x=i-this.origin*this.width,this)}update(i){let t=this._getDistance(this.speed,i);if(this._isH){if(this._img1.x+=t,this._img2.x+=t,this.speed<0&&this._img1.x<-this.width){this._img1.x=this.width+this._img2.x-this.overlap;return}if(this.speed<0&&this._img2.x<-this.width){this._img2.x=this.width+this._img1.x-this.overlap;return}if(this.speed>0&&this._img1.x>this.width){this._img1.x=-this.width+this._img2.x+this.overlap;return}if(this.speed>0&&this._img2.x>this.width){this._img2.x=-this.width+this._img1.x+this.overlap;return}return}if(this._img1.y+=t,this._img2.y+=t,this.speed<0&&this._img1.y<-this.height){this._img1.y=this.height+this._img2.y-this.overlap;return}if(this.speed<0&&this._img2.y<-this.height){this._img2.y=this.height+this._img1.y-this.overlap;return}if(this.speed>0&&this._img1.y>this.height){this._img1.y=-this.height+this._img2.y+this.overlap;return}this.speed>0&&this._img2.y>this.height&&(this._img2.y=-this.height+this._img1.y+this.overlap)}};window.ScrollingLayer=s;})();
